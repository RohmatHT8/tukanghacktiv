// const tukang = {
//     SpecialistTembok:[
//         {
//             nama:'Aji',
//             rating:4.5,
//             harga:50000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Ando',
//             rating:5,
//             harga:500000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Aiueo',
//             rating:1.5,
//             harga:5000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'}],
//     SpesialisAtap:[
//         {
//             nama:'Aji',
//             rating:4.5,
//             harga:50000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Ando',
//             rating:5,
//             harga:500000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/test.png'},
//         {
//             nama:'Aiueo',
//             rating:1.5,
//             harga:5000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Amsiong',
//             rating:3.5,
//             harga:55000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'}],
//     SpesialisSemen:[
//         {
//             nama:'Aji',
//             rating:4.5,
//             harga:50000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Ando',
//             rating:5,
//             harga:500000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Amsiong',
//             rating:3.5,
//             harga:55000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'}],
//     SpesialisCat:[
//         {
//             nama:'Aji',
//             rating:4.5,
//             harga:50000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Ando',
//             rating:5,
//             harga:500000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Aiueo',
//             rating:1.5,
//             harga:5000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Auoououo',
//             rating:2.5,
//             harga:5000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Amsiong',
//             rating:3.5,
//             harga:55000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'}],
//     SpesialisPintuJendela:[
//         {
//             nama:'Aji',
//             rating:4.5,
//             harga:50000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Abababa',
//             rating:1.5,
//             harga:5000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'},
//         {
//             nama:'Amsiong',
//             rating:3.5,
//             harga:55000,
//             deskripsi:'pekerja keras dan rajin menabung',
//             img : 'img/assetkuli/1.jpg'}]
// }

const tukang = {
    SpecialistTembok:[
        {
            nama:'Aji',
            rating:4.5,
            harga:95000,
            deskripsi:'Kemampuan menyemen bata dan kemampuan lainnya bisa membuat rumah anda sekokoh tembok cina',
            img : 'img/assetkuli/1.jpg'},
        {
            nama:'Akmal',
            rating:5,
            harga:120000,
            deskripsi:'Kemampuan menyusun bata dan ngaduk semen tingkat dewa, dan teknik memasang atap ala Spiderman',
            img : 'img/assetkuli/2.jpg'},
        {
            nama:'Fahrul',
            rating:4,
            harga:80000,
            deskripsi:'Kemampuan bekerja standar tpi bisa menyesuaikan kemauan anda untuk rumah yang anda butuhkan',
            img : 'img/assetkuli/3.jpg'}],
    SpesialisAtap:[
        {
            nama:'Aji',
            rating:4.5,
            harga:95000,
            deskripsi:'Kemampuan menyemen bata dan kemampuan lainnya bisa membuat rumah anda sekokoh tembok cina',
            img : 'img/assetkuli/6.jpg'},
        {
            nama:'Akmal',
            rating:5,
            harga:120000,
            deskripsi:'Kemampuan menyusun bata dan ngaduk semen tingkat dewa, dan teknik memasang atap ala Spiderman',
            img : 'img/assetkuli/4.jpg'},
        {
            nama:'Fahrul',
            rating:4,
            harga:80000,
            deskripsi:'Kemampuan bekerja standar tpi bisa menyesuaikan kemauan anda untuk rumah yang anda butuhkan',
            img : 'img/assetkuli/7.jpg'},
        {
            nama:'Fahmi',
            rating:3,
            harga:70000,
            deskripsi:'Kemampuan pekerja standard, namun dapat memberi konsep rumah yang standard seperti kemampuan yang dia punya',
            img : 'img/assetkuli/2.jpg'}],
    SpesialisSemen:[
        {
            nama:'Aji',
            rating:4.5,
            harga:95000,
            deskripsi:'Kemampuan menyemen bata dan kemampuan lainnya bisa membuat rumah anda sekokoh tembok cina',
            img : 'img/assetkuli/1.jpg'},
        {
            nama:'Akmal',
            rating:5,
            harga:120000,
            deskripsi:'Kemampuan menyusun bata dan ngaduk semen tingkat dewa, dan teknik memasang atap ala Spiderman',
            img : 'img/assetkuli/2.jpg'},
        {
            nama:'Fahmi',
            rating:3,
            harga:70000,
            deskripsi:'Kemampuan pekerja standard, namun dapat memberi konsep rumah yang standard seperti kemampuan yang dia punya',
            img : 'img/assetkuli/3.jpg'}],
    SpesialisCat:[
        {
            nama:'Aji',
            rating:4.5,
            harga:95000,
            deskripsi:'Kemampuan menyemen bata dan kemampuan lainnya bisa membuat rumah anda sekokoh tembok cina',
            img : 'img/assetkuli/4.jpg'},
        {
            nama:'Ando',
            rating:5,
            harga:120000,
            deskripsi:'Kemampuan menyusun bata dan ngaduk semen tingkat dewa, dan teknik memasang atap ala Spiderman',
            img : 'img/assetkuli/5.jpg'},
        {
            nama:'Fahrul',
            rating:4,
            harga:80000,
            deskripsi:'Kemampuan bekerja standar tpi bisa menyesuaikan kemauan anda untuk rumah yang anda butuhkan',
            img : 'img/assetkuli/6.jpg'},
        {
            nama:'Andrian',
            rating:3.5,
            harga:75000,
            deskripsi:'Spesialis cat rumah impian anda, memberi warna rumah yang baik untuk hidup anda yang kurang berwarnna ',
            img : 'img/assetkuli/7.jpg'},
        {
            nama:'Fahmi',
            rating:3,
            harga:70000,
            deskripsi:'Kemampuan pekerja standard, namun dapat memberi konsep rumah yang standard seperti kemampuan yang dia punya',
            img : 'img/assetkuli/1.jpg'}],
    SpesialisPintuJendela:[
        {
            nama:'Aji',
            rating:4.5,
            harga:95000,
            deskripsi:'Kemampuan menyemen bata dan kemampuan lainnya bisa membuat rumah anda sekokoh tembok cina',
            img : 'img/assetkuli/3.jpg'},
        {
            nama:'Lorien',
            rating:1.5,
            harga:50000,
            deskripsi:'Tidak mempunyai kemampuan spesifik, hanya sebagai asisten tambahan untuk pekerja lainnya',
            img : 'img/assetkuli/2.jpg'},
        {
            nama:'Fahmi',
            rating:3,
            harga:70000,
            deskripsi:'Kemampuan pekerja standard, namun dapat memberi konsep rumah yang standard seperti kemampuan yang dia punya',
            img : 'img/assetkuli/7.jpg'}]
}


let activeLink = ''

function render(data){
    activeLink = data
    let listMenu = document.getElementsByClassName('list-item')
    for(let i = 0; i < listMenu.length; i++){
        if(listMenu[i].id === data){
            listMenu[i].style.fontWeight='bold'
        }else{
            listMenu[i].style.fontWeight='normal'
        }
    }
    let result = data
    let temp=''
        for(let i=0;i<tukang[result].length;i++)
        {   

           temp+=`<div class="card inline">
           <div class="img">
               <img src="${tukang[result][i].img}" alt="${tukang[result][i].nama}" width="100%">
           </div>
           <div class="text-card">
               <h3>${tukang[result][i].nama}</h3>
               <p><span class="fa fa-star checked"></span>${tukang[result][i].rating}</p>
               <p class="deskripsi">${tukang[result][i].deskripsi}</p>
               <p>Rp. ${tukang[result][i].harga}</p>
               <div class="botton-card"><a href="#"  onclick="tambahkeranjang(['${tukang[result][i].nama}',${tukang[result][i].harga},'${tukang[result][i].img}'])">Add to Cart</a></div>
                </div>  
           </div>
       </div>  `

        }
        
    document.getElementById('content').innerHTML= temp
}


render('SpecialistTembok')

let keranjang ={}

function tambahkeranjang(arr){
    if(!keranjang.hasOwnProperty(arr[0])){
        keranjang[arr[0]] = {
            price: arr[1],
            img: arr[2],
            hari: 1
            
        }
    }
    togglecart();
    cekcount()
}

function cekcount(){
    let counter =0
    for (let i in keranjang)
    {
        counter++
    }
    document.getElementById('cartcount').innerHTML=counter
}
function togglecart(){
    let cart = document.getElementById('carttable')
    
    let grandTotal = 0
    let barang =''
    for (let i in keranjang){

        let total = keranjang[i].price*keranjang[i].hari
        grandTotal += total

        barang += ` <div class="card-modal">
        <img src='${keranjang[i].img}' alt="" width="120px">
        <h4>${i}</h3>
        <p>${keranjang[i].price}</p>
        <p>Hari : ${keranjang[i].hari}</p>
        <p class="total-harga">Total Harga : ${total}</p>
        <button type="button" class="btn btn-plus" onclick="plusqty('${i}')">+</button>
        <button type="button" class="btn btn-minus" onclick="minusqty('${i}')">-</button>
        <button class="btn btn-danger" onclick="removeitem('${i}')">Remove</button>
     </div>`

        // barang+=`<tr><td><img src='${keranjang[i].img}' class="img-table" width = "100px"></td><td>${i}</td><td>${keranjang[i].price}</td>
        // <td>${keranjang[i].hari}</td><td>${total}</td><td><button type="button" class="btn btn-plus" onclick="plusqty('${i}')">+</button><button type="button" class="btn btn-minus" onclick="minusqty('${i}')">-</button><button class="btn btn-danger" onclick="removeitem('${i}')">Remove</button>
        // `
 

    }
    
    document.getElementById('grand-total').innerHTML = `<p class="grey">Total Bayar</p>
                                                        <h3 class="orange">Rp. ${grandTotal}</h3>`

    cart.innerHTML=barang
}
function removeitem(item){
    delete keranjang[item]
    cekcount()
    togglecart()
}
let modal = document.getElementById('myModal')
let btn = document.getElementById('myBtn')
let span = document.getElementsByClassName('close')[0]

btn.onclick = function()
{
    if(document.getElementById('cartcount').innerText === '0'){
        // alert('Tidak ada order, Silahkan Order')
        Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Tidak ada order, Silahkan Order',
          })
    }else{
    modal.style.display='block';
    }
    
}

    span.onclick = function()
    {
        modal.style.display='none'
    }
    window.onclick = function(event)
    {
        if(event.target === modal){
            modal.style.display='none'
        }
    }


function plusqty(item){
    keranjang[item].hari++
    cekcount()
    togglecart()
}

function minusqty(item){
    if(keranjang[item].hari>1){
        keranjang[item].hari--
    }
    cekcount()
    togglecart()
}

function checkout(){
    keranjang = {}
    if (document.getElementById('cartcount').innerText === '0'){
        // alert('Tidak ada order, Silahkan Order')
        Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Tidak ada order, Silahkan Order',
          })
    } else {
        // alert("Check Out Berhasil")
        Swal.fire({
            icon: 'success',
            title: 'Berhasil !!!',
            text: 'Terimakasih Sudah Order',
          })
        cekcount()
        togglecart()
        modal.style.display='none'
    }
}

function onClickMainMenu(id){
    let subMenu = document.getElementsByClassName('sub-menu')
    console.log(id)
    for(let i = 0; i < subMenu.length; i++){
        if(subMenu[i].id === id){
            subMenu[id].style.fontWeight='bold'
        }else{
            subMenu[id].style.fontWeight='normal'
        }
    }
}